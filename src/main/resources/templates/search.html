<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org/">
<head th:replace="~{fragments :: head}"></head>
<header th:replace="fragments :: header"></header>
<body >
<div class="gradientBg p-3 pt-4">
    <div class="color2 container searchPage rounded-5 p-2 shadow-lg">
        <div class="color1 container rounded-5 p-3">
            <div class="gradientForm container rounded-5 shadow-lg p-4">
                <div class="text-center">
    <form method="get"
          th:action="@{/listingsearch}"
          th:object="${searchListingsDTO}">
        <div id="searchbar">
            <label>Search:</label>
            <input type="text" name="searchTerm"></br>
        </div>

<!--        <label>Zip Code:</label>-->
<!--        <input type="number" size="10" th:field=*{zipCode} name="zipCode"></br>-->

<!--        <label>Miles from Zip:</label>-->
<!--        <label>5</label>-->
<!--        <input type="checkbox" name="distance" th:value="5" th:field="*{sizes}">-->
<!--        <label>10</label>-->
<!--        <input type="checkbox" name="distance" th:value="5" th:field="*{sizes}">-->
<!--        <label></label>-->
<!--        <input type="number" maxlength="3" size="3" name="distance" th:value="${size}" th:field="*{sizes}"></br>-->
        <div class="border border-3 rounded-4 border-secondary-subtle shadow-sm p-2">
            <input type="checkbox" id="male" name="gender" th:value="M" th:field="*{genders}">
            <label for="male">M</label>
            <input type="checkbox" id="female" name="gender" th:value="W" th:field="*{genders}">
            <label for="female">F</label></br>
        </div>

        <div class="border border-3 rounded-4 border-secondary-subtle shadow-sm p-2">

            <label>Brand:</label></br>

            <th:block th:if="${topBrands.size() == 0 or topBrands == null}">
                <p>No brands found. Please add brands to enable filtering.</p>
            </th:block>
            <input type="text" name="brands" th:value="${brand}" th:field="*{brands}">
            </th:block>
        </div>

        <div class="border border-3 rounded-4 border-secondary-subtle shadow-sm p-2">
                <label>Size:</label></br>
                <div id="normalSizes">
                    <th:block th:each="size : ${normalSizes}">
                        <input type="checkbox" name="sizes" th:value="${size}" th:field="*{sizes}">
                            <label>
                                <span th:text="${size}"></span>
                            </label>
                    </th:block>
                </div>

                <div id="allSizes" style="display: none;">
                    <th:block th:each="size : ${allSizes}">
                        <input type="checkbox" name="sizes" th:value="${size}" th:field="*{sizes}">
                            <label>
                                <span th:text="${size}"></span>
                            </label>
                    </th:block>
                 </div>
                <button class="button1 btn btn-sm" type="button" id="sizesButton" onclick="toggleSizes()">View more sizes</button></br>
            </div>

        <div class="border border-3 rounded-4 border-secondary-subtle shadow-sm p-2">
            <label>Style:</label></br>
            <th:block th:if="${topStyles.size() == 0 or topStyles == null}">
                <p>No styles found. Please add styles to enable filtering.</p>
            </th:block>
            <input type="text" name="styles" th:value="${style}" th:field="*{styles}">
        </div>

        <div class="border border-3 rounded-4 border-secondary-subtle shadow-sm p-2">
            <label>Condition:</label>
            <div class="form-group row fw-semibold" style="width: 500px">
            <div class="col container text-center">
                <input type="radio" th:id="imageRadio_1" th:name="imageRadio" th:value="NEW"
                       th:field="*{condition}"
                       class="hidden-radio">
                <label th:for="imageRadio_1" style="color: var( --color2);">
                    New
                    <br/>
                    <img th:src="@{/images/new-shoe.png}" alt="New Shoes" width="100"
                         height="100" class="">
                </label>
            </div>

            <div class="col container text-center">

                <input type="radio" th:id="imageRadio_2" th:name="imageRadio"
                       th:value="GREAT"
                       th:field="*{condition}" class="hidden-radio">
                <label th:for="imageRadio_2" style="color: var( --color2);">Great
                    <br/>
                    <img th:src="@{/images/great-shoe.png}" alt="Great Condition"
                         width="100" height="100">
                </label>
            </div>

            <div class="col container text-center">
                <input type="radio" th:id="imageRadio_3" th:name="imageRadio"
                       th:value="GOOD"
                       th:field="*{condition}" class="hidden-radio">
                <label th:for="imageRadio_3" style="color: var( --color2);">Good
                    <br/>
                    <img th:src="@{/images/good-shoe.png}" alt="Good Condition" width="100"
                         height="100">
                </label>
            </div>
            <div class="col container text-center">
                <input type="radio" th:id="imageRadio_4" th:name="imageRadio"
                       th:value="POOR"
                       th:field="*{condition}" class="hidden-radio">
                <label th:for="imageRadio_4" style="color: var( --color2);">Poor
                    <br/>
                    <img th:src="@{/images/poor-shoe.png}" alt="Poor Condition" width="100"
                         height="100">
                </label>
                </div>
            </div>
        </div>
        <button class="button1 btn btn-lg" type="submit">Search Listings</button>
    </form>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
<script>
            function toggleSizes() {
                let normalSizes = document.getElementById("normalSizes");
                let allSizes = document.getElementById("allSizes");
                let sizesButton = document.getElementById("sizesButton");

                if (normalSizes.style.display === "none") {
                    normalSizes.style.display = "block";
                    allSizes.style.display = "none";
                    sizesButton.innerText = "View More Sizes";
                } else {
                    normalSizes.style.display = "none";
                    allSizes.style.display = "block";
                    sizesButton.innerText = "View Less Sizes";
                }
            }
        </script>
<th:block th:replace="~{fragments :: endingScripts}"></th:block>
</body>
</html>
